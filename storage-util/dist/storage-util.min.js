/*! storage-util v1.0.2 整合sessionStorage、localStorage、cookie的小插件 License: MIT https://github.com/weijhfly/js-utils By weijhfly */ ;!function r(u,s,c){function f(t,e){if(!s[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=s[t]={exports:{}};u[t][0].call(i.exports,function(e){return f(u[t][1][e]||e)},i,i.exports,r,u,s,c)}return s[t].exports}for(var a="function"==typeof require&&require,e=0;e<c.length;e++)f(c[e]);return f}({1:[function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var i=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.type=e||"sessionStorage",this.success="object"===(void 0===t?"undefined":a(t))?t.success:function(){},this.fail="object"===(void 0===t?"undefined":a(t))?t.fail:function(){}}return o(n,[{key:"isSupport",value:function(){return this.isCookie()?document.cookie&&navigator.cookieEnabled:void 0!==window[this.type]}},{key:"get",value:function(e,t){try{var n=e.split(","),o=this.master(n,"get");return t?(t.apply(this,o),this):1<n.length?o:o[0]||null}catch(e){return console.error(e),null}}},{key:"set",value:function(e,t,n){try{var o={};"object"!=(void 0===e?"undefined":a(e))?o[e]=t:(n=t,o=e),this.master(o,"set",n),this.success()}catch(e){console.error(e),this.fail()}return this}},{key:"remove",value:function(e){try{var t=e.split(",");this.master(t,"remove")}catch(e){console.error(e)}return this}},{key:"setType",value:function(e){return this.type=e||"sessionStorage",this}},{key:"master",value:function(e,t,n){var i=[],r=this.isCookie(),u=this;if("get"==t){for(var o in e)s(e[o]);return i}if("set"==t)for(var o in e)c(o,e[o],n);else if("remove"==t)for(var o in e)f(e[o]);function s(e){if(r){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t),o=n?unescape(n[2]):null;i.push(u.isJson(o)||o)}else{o=window[u.type][e];i.push(u.isJson(o)||o)}}function c(e,t,n){t="object"==(void 0===t?"undefined":a(t))?JSON.stringify(t):t;if(r){n=n||72e5;var o=new Date;o.setTime(o.getTime()+n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()}else window[u.type][e]=t}function f(e){if(r){var t=new Date,n=u.get(e);t.setTime(t.getTime()-1),null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())}else delete window[u.type][e]}}},{key:"isJson",value:function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return t}},{key:"isCookie",value:function(){return"cookie"===this.type}}]),n}();"function"==typeof define&&define.amd?define(function(){return i}):"object"===("undefined"==typeof window?"undefined":a(window))?window.StorageUtil=i:"object"===(void 0===n?"undefined":a(n))&&(t.exports=i)},{}]},{},[1]);